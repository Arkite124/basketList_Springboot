<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.basketlist_springboot.Dao.ProductDao">
  <resultMap id="BaseResultMap" type="com.example.basketlist_springboot.Dto.Product">
    <id column="product_id" jdbcType="DECIMAL" property="productId" />
    <result column="product_category" jdbcType="VARCHAR" property="productCategory" />
    <result column="product_name" jdbcType="VARCHAR" property="productName" />
    <result column="product_img_url" jdbcType="VARCHAR" property="productImgUrl" />
    <result column="product_description" jdbcType="VARCHAR" property="productDescription" />
    <result column="product_user_no" jdbcType="DECIMAL" property="productUserNo" />
    <result column="product_price" jdbcType="DECIMAL" property="productPrice"/>
  </resultMap>
  <select id="selectByPrimaryKey" parameterType="java.math.BigDecimal" resultMap="BaseResultMap">
    select 
    *
    from "product"
    where "product_id" = #{productId}
  </select>
  <delete id="deleteById" parameterType="java.math.BigDecimal">
    delete from "product"
    where "product_id" = #{productId,jdbcType=DECIMAL}
  </delete>
  <insert id="insert" keyColumn="product_id" keyProperty="productId" parameterType="com.example.basketlist_springboot.Dto.Product" useGeneratedKeys="true">
    insert into "product" ("product_category", "product_name", "product_img_url",
      "product_description", "product_user_no","product_price")
    values (#{productCategory,jdbcType=VARCHAR}, #{productName,jdbcType=VARCHAR}, #{productImgUrl,jdbcType=VARCHAR}, 
      #{productDescription,jdbcType=VARCHAR}, #{productUserNo,jdbcType=DECIMAL},#{productPrice,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" keyColumn="product_id" keyProperty="productId" parameterType="com.example.basketlist_springboot.Dto.Product" useGeneratedKeys="true">
    insert into product
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="productCategory != null">
        product_category,
      </if>
      <if test="productName != null">
        product_name,
      </if>
      <if test="productImgUrl != null">
        product_img_url,
      </if>
      <if test="productDescription != null">
        product_description,
      </if>
      <if test="productUserNo != null">
        product_user_no,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="productCategory != null">
        #{productCategory,jdbcType=VARCHAR},
      </if>
      <if test="productName != null">
        #{productName,jdbcType=VARCHAR},
      </if>
      <if test="productImgUrl != null">
        #{productImgUrl,jdbcType=VARCHAR},
      </if>
      <if test="productDescription != null">
        #{productDescription,jdbcType=VARCHAR},
      </if>
      <if test="productUserNo != null">
        #{productUserNo,jdbcType=DECIMAL},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.example.basketlist_springboot.Dto.Product">
    update product
    <set>
      <if test="productCategory != null">
        product_category = #{productCategory,jdbcType=VARCHAR},
      </if>
      <if test="productName != null">
        product_name = #{productName,jdbcType=VARCHAR},
      </if>
      <if test="productImgUrl != null">
        product_img_url = #{productImgUrl,jdbcType=VARCHAR},
      </if>
      <if test="productDescription != null">
        product_description = #{productDescription,jdbcType=VARCHAR},
      </if>
      <if test="productUserNo != null">
        product_user_no = #{productUserNo,jdbcType=DECIMAL},
      </if>
    </set>
    where product_id = #{productId,jdbcType=DECIMAL}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.example.basketlist_springboot.Dto.Product">
    update "product"
    set "product_category" = #{productCategory},
      "product_name" = #{productName},
      "product_img_url" = #{productImgUrl},
      "product_description" = #{productDescription},
      "product_user_no" = #{productUserNo}
    where "product_id" = #{productId}
  </update>
</mapper>